var uploadForm=document.querySelector("#upload form"),inputField=document.getElementById("inputField"),output=document.getElementById("output"),autoScroll=document.getElementById("autoScroll"),cmdHist=[],cmdHistIndex=0;function openTab(t){for(var e,n=document.getElementsByClassName("tab"),o=0;o<n.length;o++)n[o].style.display="none";for(e=document.getElementsByClassName("tab-button"),o=0;o<e.length;o++)e[o].className=e[o].className.replace(" active","");document.getElementById(t).style.display="block",event.currentTarget.className+=" active"}function submitData(){var t=inputField.value;cmdHist.push(t),cmdHistIndex=cmdHist.length,fetch("/submit",{method:"POST",body:t}),inputField.value=""}function clearOutput(){output.innerHTML=""}function poll(){fetch("/poll").then(t=>t.json()).then(t=>{var e=autoScroll.checked&&output.scrollTop+output.clientHeight===output.scrollHeight;t.forEach(t=>{var e=document.createElement("div");e.textContent=""!=t?t:" ",output.appendChild(e)}),e&&(output.scrollTop=output.scrollHeight)})}inputField.addEventListener("keydown",function(t){"Enter"===t.key?submitData():"ArrowUp"===t.key?(cmdHistIndex=Math.max(cmdHistIndex-1,0),inputField.value=cmdHist[cmdHistIndex]||""):"ArrowDown"===t.key&&(cmdHistIndex=Math.min(cmdHistIndex+1,cmdHist.length-1),inputField.value=cmdHist[cmdHistIndex]||"")}),uploadForm.addEventListener("submit",function(t){t.preventDefault();t=new FormData(uploadForm);fetch("/upload",{method:"POST",body:t}).then(t=>t.text()).then(t=>console.log(t)).catch(t=>console.error("Error:",t))}),setInterval(poll,2e3);